{"version":3,"file":"acf-pro-ui-options-page.js","mappings":"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","sources":["webpack://advanced-custom-fields-pro/./src/advanced-custom-fields-pro/assets/src/js/pro/_acf-ui-options-page.js","webpack://advanced-custom-fields-pro/webpack/bootstrap","webpack://advanced-custom-fields-pro/webpack/runtime/compat get default export","webpack://advanced-custom-fields-pro/webpack/runtime/define property getters","webpack://advanced-custom-fields-pro/webpack/runtime/hasOwnProperty shorthand","webpack://advanced-custom-fields-pro/webpack/runtime/make namespace object","webpack://advanced-custom-fields-pro/./src/advanced-custom-fields-pro/assets/src/js/pro/acf-pro-ui-options-page.js"],"sourcesContent":["( function ( $, undefined ) {\n\n\tconst UIOptionsPageManager = new acf.Model({\n\t\tid: 'UIOptionsPageManager',\n\t\twait: 'ready',\n\t\tevents: {\n\n\t\t},\n\t\tinitialize: function() {\n\t\t\tif ( 'ui_options_page' !== acf.get( 'screen' ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// select2\n\t\t\tconst template = function ( selection ) {\n\t\t\t\tif ( 'undefined' === typeof selection.element ) {\n\t\t\t\t\treturn selection;\n\t\t\t\t}\n\n\t\t\t\tconst $selection = $( '<span class=\"acf-selection\"></span>' );\n\t\t\t\t$selection.html( acf.escHtml( selection.element.innerHTML ) );\n\n\t\t\t\tif (\n\t\t\t\t\tselection.id === 'options' ||\n\t\t\t\t\tselection.id === 'edit_posts'\n\t\t\t\t) {\n\t\t\t\t\t$selection.append(\n\t\t\t\t\t\t'<span class=\"acf-select2-default-pill\">' +\n\t\t\t\t\t\tacf.__( 'Default' ) +\n\t\t\t\t\t\t'</span>'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\t$selection.data( 'element', selection.element );\n\t\t\t\treturn $selection;\n\t\t\t};\n\n\t\t\tacf.newSelect2( $( 'select.acf-options-page-capability' ), {\n\t\t\t\tfield: false,\n\t\t\t\ttemplateSelection: template,\n\t\t\t\ttemplateResult: template,\n\t\t\t} );\n\n\t\t\tacf.newSelect2( $( 'select.acf-options-page-data_storage' ), {\n\t\t\t\tfield: false,\n\t\t\t\ttemplateSelection: template,\n\t\t\t\ttemplateResult: template,\n\t\t\t} );\n\t\t},\n\t});\n\n\tconst optionsPageModalManager = new acf.Model( {\n\t\tid: 'optionsPageModalManager',\n\t\tevents: {\n\t\t\t'change .location-rule-value': 'createOptionsPage',\n\t\t},\n\n\t\tcreateOptionsPage: function( e ) {\n\t\t\tconst $locationSelect = $( e.target );\n\n\t\t\tif ( 'add_new_options_page' !== $locationSelect.val() ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet popup = false;\n\n\t\t\tconst getForm = function() {\n\t\t\t\tconst fieldGroupTitle = $( '.acf-headerbar-title-field' ).val();\n\t\t\t\tconst ajaxData = {\n\t\t\t\t\taction: 'acf/create_options_page',\n\t\t\t\t};\n\n\t\t\t\tif ( fieldGroupTitle.length ) {\n\t\t\t\t\tajaxData.field_group_title = fieldGroupTitle;\n\t\t\t\t}\n\n\t\t\t\t$.ajax( {\n\t\t\t\t\turl: acf.get( 'ajaxurl' ),\n\t\t\t\t\tdata: acf.prepareForAjax( ajaxData ),\n\t\t\t\t\ttype: 'post',\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess: populateForm,\n\t\t\t\t} );\n\t\t\t};\n\n\t\t\tconst populateForm = function( response ) {\n\t\t\t\tpopup = acf.newPopup( {\n\t\t\t\t\ttitle: response.data.title,\n\t\t\t\t\tcontent: response.data.content,\n\t\t\t\t\twidth: '600px',\n\t\t\t\t} );\n\n\t\t\t\tpopup.$el.addClass( 'acf-create-options-page-popup' );\n\n\t\t\t\t// Hack to focus with the cursor at the end of the input.\n\t\t\t\tconst $pageTitle = popup.$el.find( '#acf_ui_options_page-page_title' );\n\t\t\t\tconst pageTitleVal = $pageTitle.val();\n\t\t\t\t$pageTitle.focus().val( '' ).val( pageTitleVal );\n\n\t\t\t\tpopup.on( 'submit', 'form', validateForm );\n\t\t\t};\n\n\t\t\tconst validateForm = function( e ) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tacf.validateForm( {\n\t\t\t\t\tform: $( '#acf-create-options-page-form' ),\n\t\t\t\t\tsuccess: submitForm,\n\t\t\t\t\tfailure: onFail\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tconst submitForm = function() {\n\t\t\t\tconst formValues = $( '#acf-create-options-page-form' ).serializeArray();\n\t\t\t\tconst ajaxData = {\n\t\t\t\t\taction: 'acf/create_options_page'\n\t\t\t\t};\n\n\t\t\t\tformValues.forEach( setting => {\n\t\t\t\t\tajaxData[ setting.name ] = setting.value;\n\t\t\t\t} );\n\n\t\t\t\t$.ajax( {\n\t\t\t\t\turl: acf.get( 'ajaxurl' ),\n\t\t\t\t\tdata: acf.prepareForAjax( ajaxData ),\n\t\t\t\t\ttype: 'post',\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess: populateLocationSelect,\n\t\t\t\t} );\n\t\t\t};\n\n\t\t\tconst onFail = function( e ) {\n\t\t\t\tconst $form = $( '#acf-create-options-page-form' );\n\t\t\t\tconst $fieldNotices = $form.find( '.acf-field .acf-error-message' );\n\n\t\t\t\t// Hide the general validation failed notice.\n\t\t\t\t$form.find( '.acf-notice' ).first().remove();\n\n\t\t\t\t// Update class for inline notices and move into field label.\n\t\t\t\t$fieldNotices.each( function() {\n\t\t\t\t\tconst $label = $( this ).closest( '.acf-field' ).find( '.acf-label:first' );\n\t\t\t\t\t$( this ).attr( 'class', 'acf-options-page-modal-error' ).appendTo( $label );\n\t\t\t\t} );\n\t\t\t};\n\n\t\t\tconst populateLocationSelect = function( response ) {\n\t\t\t\tif ( response.success && response.data.menu_slug ) {\n\t\t\t\t\t$locationSelect.prepend(\n\t\t\t\t\t\t'<option value=\"' + response.data.menu_slug + '\">' + response.data.page_title + '</option>'\n\t\t\t\t\t);\n\t\t\t\t\t$locationSelect.val( response.data.menu_slug );\n\t\t\t\t\tpopup.close();\n\t\t\t\t} else if ( ! response.success && response.data.error ) {\n\t\t\t\t\talert(response.data.error);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tgetForm();\n\t\t},\n\t} );\n\n} )( jQuery );","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './_acf-ui-options-page';\n"],"names":["$","undefined","UIOptionsPageManager","acf","Model","id","wait","events","initialize","get","template","selection","element","$selection","html","escHtml","innerHTML","append","__","data","newSelect2","field","templateSelection","templateResult","optionsPageModalManager","createOptionsPage","e","$locationSelect","target","val","popup","getForm","fieldGroupTitle","ajaxData","action","length","field_group_title","ajax","url","prepareForAjax","type","dataType","success","populateForm","response","newPopup","title","content","width","$el","addClass","$pageTitle","find","pageTitleVal","focus","on","validateForm","preventDefault","form","submitForm","failure","onFail","formValues","serializeArray","forEach","setting","name","value","populateLocationSelect","$form","$fieldNotices","first","remove","each","$label","closest","attr","appendTo","menu_slug","prepend","page_title","close","error","alert","jQuery"],"sourceRoot":""}