.wp-block-gallery {
	&.is-style-no-margins {
		ul.blocks-gallery-grid {
			margin-top: 0;
			margin-bottom: 0;
		}
	}

	.blocks-gallery-item {
		margin-bottom: 1rem;

		@media (max-width: 799px) {
			width: 100%;
			margin-right: 0;
			margin-left: 0;
		}

		figure {
			display: flex;
			flex-direction: column;
			justify-content: flex-end;
		}

		.blocks-gallery-item__caption {
			position: unset;
			font-size: 0.8em;
			font-weight: 400;
			font-style: italic;
			text-align: left;
			padding: 0.5rem 1rem;
			background: $white;
			color: $black;
		}
	}

	ul.blocks-gallery-grid {
		margin-left: 0;
		margin-top: $lg-padding;
		margin-bottom: calc(4rem - 1rem);
		width: 100%;
	}
}

// As we put caption outside the image, we don't want it to grow.
.blocks-gallery-grid figcaption,
.wp-block-gallery figcaption {
	flex-grow: 0;
}

.blocks-gallery-grid {
	justify-content: center;
}

p + .wp-block-gallery .blocks-gallery-grid {
	margin-top: calc(#{$lg-padding} - 2rem);
}

.blocks-gallery-caption {
	font-size: 0.8em;
	font-weight: 400;
	font-style: italic;
}

// required for SVG to work properly in Gallery
@supports ((position: -webkit-sticky) or (position: sticky)) {
	.blocks-gallery-grid .blocks-gallery-image img,
	.blocks-gallery-grid .blocks-gallery-item img,
	.wp-block-gallery .blocks-gallery-image img,
	.wp-block-gallery .blocks-gallery-item img {
		width: 100%;
	}
}
